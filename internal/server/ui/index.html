<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

  <style>
    /* CSS for loading spinner */
    #loading {width: 100%;height: 100%;top: 0px;left: 0px;position: fixed;display: block; z-index: 99}
    #loading-image {position: absolute;top: 40%;left: 45%;z-index: 100} 
  </style>

  <title>CDN Validator</title>
</head>

<body onload="populateDistributionDropdowns()">
  <div id="loading">
    <img id="loading-image" src="/ui/loading.gif" alt="Loading..."/>
  </div>  

  <div class="container-fluid pt-3">    
    <div class="row">

      <!-- Left Pane -->
      <div class="col-lg-6">
        <!-- Create an Invalidation Request -->
        <div class="card">
          <div class="card-body">
            <form>
              <legend>Create Invalidation</legend>
              <div class="mb-3">
                <label for="create-invalidation-distribution" class="form-label">Distribution</label>
                <select id="create-invalidation-distribution" class="form-control">
                  <!-- options will be generated by populateDistributionDropdowns() -->
                </select>
              </div>

              <div class="mb-3">
                <label for="create-invalidation-paths" class="form-label">Paths (Comma separated list)</label>
                <input type="text" class="form-control" id="create-invalidation-paths" placeholder="/docs/*, /docs-qa/*">
              </div>

              <button type="button" class="btn btn-primary", onclick="createInvalidation()">Submit</button>
            </form>
          </div>
        </div>

        <!-- Space divider -->
        <div class="form-group">
          &nbsp;
        </div>

        <!-- Get Invalidation Status -->
        <div class="card">
          <div class="card-body">
            <form>
              <legend>Get Invalidation Status</legend>
              <div class="mb-3">
                <label for="get-invalidation-distribution" class="form-label">Distribution</label>
                <select id="get-invalidation-distribution" class="form-control">
                  <!-- options will be generated by populateDistributionDropdowns() -->
                </select>
              </div>

              <div class="mb-3">
                <label for="get-invalidation-id" class="form-label">Invalidation ID</label>
                <input type="text" class="form-control" id="get-invalidation-id" placeholder="1123456ABCDEF">
              </div>

              <button type="button" class="btn btn-primary", onclick="getInvalidation()">Submit</button>
            </form>
          </div>
        </div>
      </div>

      <!-- Right Pane -->
      <div class="col-lg-6">
        <div class="card" style="height: 600px;">
          <div class="card-body">
            <legend>Output</legend>
            <div class="row">
              <div class="col-4">
                <div id="nav-bar" class="list-group overflow-auto" style="height: 500px;">
                  <!-- items will be generated by appendOutput() -->
                </div>
              </div>
              <div class="col-8">
                <div id="output-box" data-spy="scroll" data-target="#nav-bar" data-offset="0" class="overflow-auto" style="height: 500px;">
                  <!-- items will be generated by appendOutput() -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>


  <script type="text/javascript" src="/ui/app.js"></script>

  <!-- Bootstrap Javascript -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
</body>
</html>
